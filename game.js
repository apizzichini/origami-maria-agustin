// ========== ORIGAMI MASTER GAME ==========\n\nlet gameState = {\n    level: 1,\n    score: 0,\n    attempts: 0,\n    rotation: 0,\n    folds: 0,\n    flipped: false\n};\n\n// Esperar a que el DOM estÃ© listo\nfunction start() {\n    console.log('Juego iniciado');\n    \n    // Obtener elementos\n    const foldBtn = document.getElementById('fold-btn');\n    const unfoldBtn = document.getElementById('unfold-btn');\n    const rotateBtn = document.getElementById('rotate-btn');\n    const flipBtn = document.getElementById('flip-btn');\n    const verifyBtn = document.getElementById('verify-btn');\n    const resetBtn = document.getElementById('reset-btn');\n    const nextBtn = document.getElementById('next-level-btn');\n    \n    const levelEl = document.getElementById('level');\n    const scoreEl = document.getElementById('score');\n    const attemptsEl = document.getElementById('attempts');\n    const messageEl = document.getElementById('message');\n    const challengeEl = document.getElementById('challenge-text');\n    const svgEl = document.getElementById('origami-svg');\n    \n    // Verificar que existan los elementos\n    if (!foldBtn) {\n        console.error('No se encontrÃ³ fold-btn');\n        return;\n    }\n    \n    console.log('Elementos encontrados correctamente');\n    \n    // DesafÃ­os\n    const desafios = [\n        'Dobla el papel por la mitad',\n        'Gira el papel 90 grados',\n        'Voltea el papel'\n    ];\n    \n    // Dibujar papel\n    function dibujarPapel() {\n        svgEl.innerHTML = '';\n        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n        rect.setAttribute('x', '50');\n        rect.setAttribute('y', '50');\n        rect.setAttribute('width', '300');\n        rect.setAttribute('height', '300');\n        rect.setAttribute('fill', '#FFE4B5');\n        rect.setAttribute('stroke', '#333');\n        rect.setAttribute('stroke-width', '2');\n        \n        let transform = 'translate(200, 200) ';\n        transform += 'rotate(' + gameState.rotation + ') ';\n        if (gameState.flipped) transform += 'scaleX(-1) ';\n        \n        rect.setAttribute('transform', transform);\n        svgEl.appendChild(rect);\n    }\n    \n    // Actualizar UI\n    function actualizarUI() {\n        levelEl.textContent = gameState.level;\n        scoreEl.textContent = gameState.score;\n        attemptsEl.textContent = gameState.attempts;\n    }\n    \n    // Mostrar mensaje\n    function mostrarMensaje(texto, tipo) {\n        messageEl.textContent = texto;\n        messageEl.className = 'message ' + tipo;\n    }\n    \n    // BotÃ³n DOBLAR\n    foldBtn.onclick = function() {\n        console.log('Click en DOBLAR');\n        gameState.folds++;\n        gameState.attempts++;\n        mostrarMensaje('âœ“ Papel doblado', 'success');\n        actualizarUI();\n        dibujarPapel();\n    };\n    \n    // BotÃ³n DESDOBLAR\n    unfoldBtn.onclick = function() {\n        console.log('Click en DESDOBLAR');\n        if (gameState.folds > 0) {\n            gameState.folds--;\n            gameState.attempts++;\n            mostrarMensaje('âœ“ Papel desdoblado', 'success');\n            actualizarUI();\n            dibujarPapel();\n        }\n    };\n    \n    // BotÃ³n GIRAR\n    rotateBtn.onclick = function() {\n        console.log('Click en GIRAR');\n        gameState.rotation += 90;\n        if (gameState.rotation >= 360) gameState.rotation = 0;\n        gameState.attempts++;\n        mostrarMensaje('âœ“ Papel girado ' + gameState.rotation + 'Â°', 'success');\n        actualizarUI();\n        dibujarPapel();\n    };\n    \n    // BotÃ³n VOLTEAR\n    flipBtn.onclick = function() {\n        console.log('Click en VOLTEAR');\n        gameState.flipped = !gameState.flipped;\n        gameState.attempts++;\n        mostrarMensaje('âœ“ Papel volteado', 'success');\n        actualizarUI();\n        dibujarPapel();\n    };\n    \n    // BotÃ³n VERIFICAR\n    verifyBtn.onclick = function() {\n        console.log('Click en VERIFICAR');\n        if (gameState.level === 1 && gameState.folds > 0) {\n            gameState.score += 10;\n            mostrarMensaje('Â¡Correcto! ğŸ‰', 'success');\n            actualizarUI();\n        } else if (gameState.level === 2 && gameState.rotation === 90) {\n            gameState.score += 10;\n            mostrarMensaje('Â¡Correcto! ğŸ‰', 'success');\n            actualizarUI();\n        } else if (gameState.level === 3 && gameState.flipped) {\n            gameState.score += 10;\n            mostrarMensaje('Â¡Correcto! ğŸ‰', 'success');\n            actualizarUI();\n        } else {\n            mostrarMensaje('Intenta de nuevo âŒ', 'error');\n        }\n    };\n    \n    // BotÃ³n SIGUIENTE NIVEL\n    nextBtn.onclick = function() {\n        console.log('Click en SIGUIENTE NIVEL');\n        if (gameState.level < 3) {\n            gameState.level++;\n            gameState.folds = 0;\n            gameState.rotation = 0;\n            gameState.flipped = false;\n            gameState.attempts = 0;\n            challengeEl.textContent = desafios[gameState.level - 1];\n            mostrarMensaje('Nivel ' + gameState.level, 'info');\n            actualizarUI();\n            dibujarPapel();\n        } else {\n            mostrarMensaje('Â¡Ganaste! ğŸ†', 'success');\n        }\n    };\n    \n    // BotÃ³n REINICIAR\n    resetBtn.onclick = function() {\n        console.log('Click en REINICIAR');\n        gameState.level = 1;\n        gameState.score = 0;\n        gameState.attempts = 0;\n        gameState.folds = 0;\n        gameState.rotation = 0;\n        gameState.flipped = false;\n        challengeEl.textContent = desafios[0];\n        mostrarMensaje('Juego reiniciado', 'info');\n        actualizarUI();\n        dibujarPapel();\n    };\n    \n    // Inicializar\n    challengeEl.textContent = desafios[0];\n    dibujarPapel();\n    actualizarUI();\n    console.log('Juego listo');\n}\n\n// Ejecutar cuando cargue\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', start);\n} else {\n    start();\n}